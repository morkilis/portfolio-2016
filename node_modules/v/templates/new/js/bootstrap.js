define(function(require, exports, module) {
    'use strict'

    var ROOT_PATH, type,
        initData = initData

    if ((initData && initData.isMovie) || (location.href.indexOf('cinema') > -1)) {
        type = 'cinema'
    } else {
        type = 'merchant'
    }
    ROOT_PATH = '/js/init-' + type

    seajs.config({
        alias: {
            $: 'zepto/1.0.rc.1/zepto-min',
            Handlebars: 'handlebars/1.0.rc.1/handlebars-min',
            _: 'underscore/1.3.3/underscore-min',
            Backbone: 'backbone/0.9.2/backbone-min'
        },
        debug: true,
        preload: ['plugin-config', 'plugin-log', 'plugin-tracker',
            location.href.indexOf('debug') > -1 ? ('/js/dummy-data/' + type) : ''
        ]
    }).use(ROOT_PATH)
})
